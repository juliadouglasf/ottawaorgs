<!DOCTYPE html>
<html lang="en">
  <div id="head"></div>
  <script>
  fetch('head.html').then(response => response.text()).then(data => document.getElementById('head').innerHTML = data);
  </script>  
  <body class="d-flex flex-column min-vh-100">
    <div id="navbar"></div>
    <script>
        fetch('navbar.html').then(response => response.text()).then(data => document.getElementById('navbar').innerHTML = data);
    </script>
    <div class="container-fluid">
        <h1 class="mt-3 ms-2">Food</h1>
        <div class="grid-container">
          <div id="orgCards" class="row g-3"></div>
        </div>
          <script>
            document.addEventListener('DOMContentLoaded', () => {
            fetch('org_metadata.json')
              .then(response => response.json())
              .then(data => {
                const container = document.getElementById('orgCards');
                data.food_orgs.forEach(org => {
                  const card = document.createElement('div');
                  card.className = 'grid-item card org-card';
                  card.innerHTML = `
                    <a href="${org.url}" class="stretched-link text-decoration-none" style="color: inherit;">
                      <div class="card-body text-center d-flex flex-column">
                        <h2 class="card-title d-block">${org.name}</h2>
                        <p class="card-text d-block">${org.description}</p>
                      </div>
                    </a>
                  `;
                  container.appendChild(card);
                });
              })
              .catch(error => console.error('Error loading org metadata:', error));
            });
          </script>
        </div>         
    </div>    
    <div id="footer">
      <script>
      fetch('footer.html').then(response => response.text()).then(data => document.getElementById('footer').innerHTML = data);
      </script>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body> 
</html>